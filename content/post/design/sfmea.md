# 故障模式分析

## 定义

FMEA：失效（故障）模式影响分析（Failure Mode and Effects Analysis）

对各个工序（步骤）逐一分析，找出潜在的失效模式，并分析其可能造成的影响。

## 目的和限制

FMEA面向团队、面向系统的、定性分析方法。

FMEA是事前行为，不是事后行为。

- 定性（主观的），非定量（可测量的）
- 单点失效分析，非多点失效分析

## 分析方法

### 方法

分为硬件法和功能法。

**硬件法：**常高、常低、断开、接触不良。

**功能法：**数据错误、消息超时、消息失败、响应慢。

### 分类

**DFEMA**(Design FMEA)和**PFMEA**(Process FMEA)

### 流程

七步法：

1. 确定分析对象，描述系统功能。
2. 定义严酷度等级
   1. I类：导致整个**系统崩溃**或主要功能受到影响。
   2. II类：主要功能**受到影响**、任务延迟或存储较大的**故障隐患**
   3. III类：次要功能丧失或下降，**不影响系统主要功能**。
   4. IV类：导致部分次要功能下降。
3. 建立系统功能层次框图、物理架构框图、可靠性模型框图
4. 建立故障模式清单
   1. 网上问题分析
   2. 已知故障模式结合分析对象提炼
   3. 测试问题总结
   4. 新模块设计过程中，头脑风暴
5. 填写FMEA表格，分析故障影响、补偿措施
6. 整理故障管理需求和测试验证落实需求
7. 落实需求

### 交付件

FMEA表格包括以下8方面内容：

- 功能模块
- 故障模式
- 故障原因
- 故障影响
- 是否Safety相关
- 已有补偿措施
- 严酷度类别
- 建议拉回的补偿措施

## SMFEA

采用FMEA的分析思想，以软件功能部件或业务流程作为分析的基础，对软件功能流程中每个子步骤的子功能失效进行分析。

### 正交场景/故障

对于软件系统来说，可能有以下几种：

- 网络：
  - 断开，无法连接
  - 丢包、抖动
- 主机
  - 重启
  - 主机资源紧张（CPU、内存、磁盘）
  - 磁盘写入失败
  - 磁盘写入慢
  - 磁盘不存在
- 进程重启
- 对端
  - 故障/不可用/**超时**
  - 请求失败/接收失败
  - 请求**错误**

### 关键步骤

1. 基于**正交故障模式**，过滤并识别需要与流程正交的故障模式
2. 确定流程关键步骤，与正交对象正交，生成故障点
3. 分析故障影响、容错措施
4. 输出分析结果和需求列表
